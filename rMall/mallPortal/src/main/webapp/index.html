<html>
	<head>
		<meta http-equiv="content-type" content="text/html;charset=UTF-8">
		
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.jqplot.min.js"></script>
<script type="text/javascript" src="js/plugins/jqplot.barRenderer.min.js"></script>
<script type="text/javascript" src="js/plugins/jqplot.pieRenderer.min.js"></script>
<script type="text/javascript" src="js/plugins/jqplot.categoryAxisRenderer.min.js"></script>
<script type="text/javascript" src="js/plugins/jqplot.pointLabels.min.js"></script>
<link rel="stylesheet" type="text/css" hrf="css/jquery.jqplot.css" />
<script>
	$(function(){
		
		$.jqplot.config.enablePlugins = true;
        var s1 = [2, 6, 7, 10];
        var ticks = ['2015-03-01', '2015-03-02', '2015-03-03', '2015-03-04'];
        
        var ajaxDataRenderer = function(url, plot, options) {
        	var ret = null;
            $.ajax({
            	// have to use synchronous here, else the function will return before the data is fetched
            	async: false,
            	url: url,
            	dataType:"json",
            	success: function(data) {
            		ret = data;
            		//ticks = data[0];
            	}
            });
            return ret;
		};
		//var jsonurl = "Order/count.do";
		var jsonurl = "./jsondata.txt";
		
        plot1 = $.jqplot('chart1', jsonurl, {
            // Only animate if we're not using excanvas (not in IE 7 or IE 8)..
            seriesDefaults:{
                renderer:$.jqplot.BarRenderer,
                pointLabels: { show: true }
            },
            axes: {
                xaxis: {
                    renderer: $.jqplot.CategoryAxisRenderer,
                    ticks: ticks
                }
            },
            highlighter: { show: false },
            dataRenderer: ajaxDataRenderer,
            dataRendererOptions: {
              unusedOptionalUrl: jsonurl
            }
        });
     
        //$('#chart1').bind('jqplotDataClick',
        //    function (ev, seriesIndex, pointIndex, data) {
        //        $('#info1').html('series: '+seriesIndex+', point: '+pointIndex+', data: '+data);
        //    }
        //);
	});
</script>
	</head>
	<body>
		<div id="chart1"></div>
	</body>
</html>